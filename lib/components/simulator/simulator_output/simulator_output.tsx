import { Tile } from "../../tile";
import ComparisonTab from "../comparsion-tab";
// 'use client'
// 'use state'
import { useState } from "react";
import{useEffect} from "react";

export default function SimulatorOutput(props: any) {
    const income = props.monthly;
    const total = props.savings;
    const borad = props.borad
    const [active, setActive] = props.active;
    const add_for_compare = props.save_funcion;
    const [compare_list, setCompareList] = props.compare_list;
    const [tabFilled, setTabFilled] = props.filled;
    const grid_columns = [1, 2, 3, 4, 5, 6, 7, 8];
    const grid_rows = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
    // Change here the amount of px or % to move the pred elements up
    const pred_elems_margin_bottom = tabFilled?"20px":"0";
    const [continue3Clicked, setcontinue3Clicked] = props.continue3Clicked;

    const openComaprisons = () => {
        if (continue3Clicked === true){
            console.log("continue3Clicked"+continue3Clicked)
        }
    };


    return (
        <div style={{opacity:active?1:0.5}}>
            <div className="output-tiles">
                <div className='backgound-tilt-grid'>
                    {grid_rows.map(r =>
                        <div className={"div" + r + " row"} key={"r" + r}>
                            {grid_columns.map(n =>
                                <Tile row={r} column={n} borad={borad} key={r + "_" + n} />
                            )}
                        </div>
                    )}
                </div>
            </div>
            
            <div className="pred-elements"style={{ position: 'fixed', bottom: pred_elems_margin_bottom }}
           >
                <div id="monthly" className="elm">
                    <div className="pred-icon">
                    <svg width="38" height="31" viewBox="0 0 38 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_392_320)">
                        <path d="M24.6684 10.3098C23.0461 10.2678 21.4528 10.0713 19.9015 9.58951C18.5947 9.18341 17.369 8.62195 16.3559 7.67365C15.8264 7.17827 15.4142 6.60369 15.2295 5.88644C15.0146 5.05148 15.1796 4.28172 15.6352 3.56842C16.2312 2.63543 17.1007 2.01709 18.0666 1.52609C19.7706 0.659615 21.602 0.281081 23.4938 0.142358C25.4775 -0.00292865 27.4257 0.197935 29.3346 0.751076C30.4256 1.06703 31.4592 1.51646 32.3834 2.1895C33.046 2.67175 33.614 3.2389 33.9575 3.9999C34.4035 4.98803 34.2875 5.93327 33.7129 6.82775C33.0893 7.79837 32.1708 8.42328 31.1568 8.91997C29.8221 9.57376 28.4056 9.95579 26.9326 10.1199C26.1799 10.2039 25.4228 10.2477 24.6679 10.3098H24.6684Z" fill="#194E00"/>
                        <path d="M13.2124 23.0525C11.4121 23.0148 9.6476 22.7768 7.94617 22.179C6.82545 21.7851 5.77124 21.2587 4.89383 20.4338C4.22691 19.8067 3.75254 19.0706 3.66808 18.1354C3.60769 17.4633 3.81556 16.8537 4.17702 16.2962C4.82688 15.2936 5.78306 14.6608 6.83157 14.1545C8.01488 13.583 9.27213 13.2504 10.5683 13.0513C12.0693 12.8207 13.5756 12.7896 15.0823 12.9515C16.9758 13.155 18.7976 13.6145 20.4408 14.6223C21.2973 15.1474 22.0447 15.7912 22.4766 16.7298C22.9291 17.7132 22.8219 18.6641 22.2508 19.5594C21.6053 20.5721 20.6413 21.2057 19.5827 21.7151C18.2012 22.3798 16.733 22.7343 15.218 22.9024C14.5519 22.9763 13.8806 23.0039 13.2119 23.0529L13.2124 23.0525Z" fill="#194E00"/>
                        <path d="M3.69773 23.8608C3.95198 24.2726 4.16947 24.7032 4.45917 25.0783C5.02194 25.806 5.77769 26.3058 6.59034 26.7184C7.99682 27.4331 9.50002 27.8155 11.0588 28.0085C12.3747 28.1713 13.6919 28.1858 15.0087 28.0501C16.7989 27.8659 18.5249 27.4401 20.1134 26.5635C20.9374 26.1089 21.6818 25.547 22.2052 24.7461C22.3903 24.4626 22.5242 24.1453 22.6896 23.8271C22.7049 23.9007 22.7338 23.9786 22.7347 24.0565C22.7408 24.6245 22.7684 25.1938 22.7373 25.7601C22.6848 26.711 22.1894 27.4493 21.5164 28.0794C20.5939 28.9433 19.4863 29.4872 18.3008 29.8815C16.4694 30.4907 14.5807 30.7313 12.6569 30.6661C10.7722 30.6022 8.93156 30.2824 7.18855 29.5323C6.1978 29.1061 5.28188 28.5551 4.55676 27.7337C3.96642 27.0637 3.63077 26.2953 3.64653 25.3885C3.65309 25.024 3.64259 24.6595 3.65047 24.295C3.65397 24.1392 3.68372 23.9838 3.69773 23.8608Z" fill="#194E00"/>
                        <path d="M3.69809 19.9858C3.90289 20.3547 4.06174 20.6991 4.27179 21.0085C4.81312 21.8067 5.5785 22.3502 6.41346 22.8006C7.95692 23.6333 9.6286 24.0491 11.358 24.2219C13.4402 24.4298 15.5088 24.3199 17.5371 23.7633C18.7808 23.422 19.9659 22.9458 21.0039 22.156C21.7299 21.6032 22.336 20.9591 22.6235 20.0672C22.63 20.0475 22.6458 20.0305 22.6817 19.9731C22.7066 20.083 22.7386 20.1609 22.739 20.2388C22.7447 20.7994 22.7709 21.3621 22.739 21.921C22.6825 22.8951 22.1793 23.6526 21.4809 24.2906C20.5037 25.1838 19.3348 25.733 18.0867 26.1264C15.8116 26.8432 13.4818 26.9937 11.1248 26.7242C9.53845 26.543 8.00199 26.1513 6.57188 25.4135C5.80212 25.0166 5.09407 24.5357 4.52342 23.8727C3.96722 23.2263 3.64557 22.4885 3.64688 21.6243C3.64776 21.2378 3.64295 20.8514 3.64951 20.465C3.65214 20.3154 3.67883 20.1657 3.69765 19.9858H3.69809Z" fill="#194E00"/>
                        <path d="M34.1631 7.25732C34.1845 7.32821 34.2138 7.38291 34.2147 7.43762C34.2274 8.24413 34.3342 9.05634 34.0917 9.84885C33.8786 10.5455 33.4519 11.1022 32.9167 11.5814C31.9299 12.464 30.7602 13.0097 29.5108 13.397C27.4221 14.0451 25.2831 14.2123 23.1121 14.0193C22.6338 13.9768 22.1581 13.8998 21.6819 13.8329C21.6054 13.8224 21.5231 13.7974 21.4605 13.755C20.1564 12.871 18.7093 12.3297 17.1816 11.9971C16.6805 11.8881 16.3855 11.5345 16.0696 11.1998C15.4027 10.4935 15.081 9.64974 15.1222 8.67212C15.1401 8.24982 15.1436 7.82709 15.1576 7.40479C15.1594 7.34966 15.1847 7.29495 15.1979 7.24463C15.3462 7.53914 15.4696 7.84197 15.6416 8.11416C16.1781 8.96444 16.9584 9.54559 17.8253 10.0186C19.3118 10.83 20.9201 11.2457 22.5896 11.4453C24.1024 11.626 25.6143 11.6133 27.125 11.3971C28.6653 11.1766 30.1484 10.7748 31.5216 10.0252C32.3951 9.54821 33.1806 8.96269 33.7215 8.10629C33.8869 7.84416 34.009 7.5549 34.1622 7.25688L34.1631 7.25732Z" fill="#194E00"/>
                        <path d="M23.1435 15.3402C23.2687 15.3402 23.3466 15.335 23.4231 15.3411C25.7657 15.5192 28.0526 15.2606 30.2586 14.4313C31.4078 13.9994 32.4664 13.4103 33.3048 12.4835C33.6759 12.0734 33.9569 11.6109 34.1639 11.0757C34.1844 11.168 34.2229 11.2608 34.2225 11.3531C34.2194 11.9575 34.2356 12.564 34.1923 13.1662C34.1437 13.8436 33.8147 14.4142 33.381 14.9227C32.7346 15.6807 31.9198 16.2115 31.0279 16.6307C29.5475 17.3265 27.9813 17.7055 26.3556 17.8315C25.6519 17.8862 24.9434 17.8854 24.2375 17.912C24.1062 17.9169 24.041 17.8762 24.0336 17.7287C23.9942 16.9528 23.7347 16.25 23.3059 15.6063C23.2577 15.5341 23.2153 15.4584 23.1431 15.3406L23.1435 15.3402Z" fill="#194E00"/>
                        <path d="M34.1549 18.7012C34.1825 18.7957 34.2188 18.8627 34.2192 18.9292C34.2214 19.5335 34.2556 20.1414 34.2061 20.7418C34.13 21.6677 33.6341 22.3907 32.9672 23.006C32.0439 23.858 30.9402 24.3906 29.7639 24.7862C27.9973 25.3804 26.1751 25.5922 24.3178 25.5647C24.11 25.5616 24.0443 25.4999 24.0483 25.289C24.0605 24.626 24.0588 23.9621 24.0456 23.2992C24.0413 23.0909 24.0964 23.0243 24.3122 23.0305C25.9541 23.0747 27.5702 22.8939 29.1539 22.4471C30.3617 22.1062 31.5039 21.6235 32.5108 20.8599C33.2254 20.3181 33.8136 19.674 34.0954 18.797C34.1033 18.7725 34.1234 18.7515 34.1553 18.7012H34.1549Z" fill="#194E00"/>
                        <path d="M34.157 14.8588C34.1898 14.984 34.2235 15.0523 34.2235 15.1201C34.2213 15.7314 34.2467 16.3454 34.1994 16.9537C34.1307 17.8433 33.6485 18.5361 33.0201 19.1312C32.0858 20.0161 30.9576 20.5609 29.7511 20.9657C27.9761 21.5609 26.1478 21.7727 24.284 21.7355C24.2197 21.7341 24.1554 21.7236 24.0718 21.7158V19.2056C24.5343 19.2056 24.9855 19.2236 25.4345 19.2026C27.3862 19.1107 29.2798 18.7558 31.0591 17.9112C31.9155 17.5051 32.7006 16.9974 33.3338 16.2798C33.6642 15.9052 33.9364 15.4951 34.0808 15.0102C34.0909 14.9766 34.1123 14.9459 34.157 14.8584V14.8588Z" fill="#194E00"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_392_320">
                        <rect width="30.6013" height="30.5794" fill="white" transform="translate(3.6499 0.097168)"/>
                        </clipPath>
                        </defs>
                        </svg>
                    </div>
                    <div className="pred-text">
                        <h4>{income.toLocaleString("en-US")}&#x20AA;</h4>
                        <p>קצבה חודשית</p>
                    </div>
                </div>
                <div id="gen-savings" className="elm">
                    <div className="pred-icon">
                        <svg width="39" height="31" viewBox="0 0 39 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11.3501 9.04693V8.33039L19.3537 3.69678L27.5501 8.33039V9.04693L23.5242 11.3399L19.4983 13.6328L11.3501 9.04693Z" fill="#194E00"/>
                            <path d="M11.3501 8.33039V9.04693L19.4983 13.6328M11.3501 8.33039L19.4983 12.964M11.3501 8.33039L19.3537 3.69678L27.5501 8.33039M19.4983 13.6328V12.964M19.4983 13.6328L23.5242 11.3399L27.5501 9.04693V8.33039M19.4983 12.964L27.5501 8.33039" stroke="#194E00" stroke-width="0.432"/>
                            <path d="M21.2495 15.3467V14.6302L29.2531 9.99658L37.4495 14.6302V15.3467L33.4236 17.6397L29.3977 19.9326L21.2495 15.3467Z" fill="#194E00"/>
                            <path d="M21.2495 14.6302V15.3467L29.3977 19.9326M21.2495 14.6302L29.3977 19.2638M21.2495 14.6302L29.2531 9.99658L37.4495 14.6302M29.3977 19.9326V19.2638M29.3977 19.9326L33.4236 17.6397L37.4495 15.3467V14.6302M29.3977 19.2638L37.4495 14.6302" stroke="#194E00" stroke-width="0.432"/>
                            <path d="M1.45068 15.3467V14.6302L9.45426 9.99658L17.6507 14.6302V15.3467L13.6248 17.6397L9.5989 19.9326L1.45068 15.3467Z" fill="#194E00"/>
                            <path d="M1.45068 14.6302V15.3467L9.5989 19.9326M1.45068 14.6302L9.5989 19.2638M1.45068 14.6302L9.45426 9.99658L17.6507 14.6302M9.5989 19.9326V19.2638M9.5989 19.9326L13.6248 17.6397L17.6507 15.3467V14.6302M9.5989 19.2638L17.6507 14.6302" stroke="#194E00" stroke-width="0.432"/>
                            <path d="M11.3501 21.647V20.9305L19.3537 16.2969L27.5501 20.9305V21.647L23.5242 23.94L19.4983 26.2329L11.3501 21.647Z" fill="#194E00"/>
                            <path d="M11.3501 20.9305V21.647L19.4983 26.2329M11.3501 20.9305L19.4983 25.5641M11.3501 20.9305L19.3537 16.2969L27.5501 20.9305M19.4983 26.2329V25.5641M19.4983 26.2329L23.5242 23.94L27.5501 21.647V20.9305M19.4983 25.5641L27.5501 20.9305" stroke="#194E00" stroke-width="0.432"/>
                        </svg>
                    </div>
                    <div className="pred-text">
                        <h4>{total.toLocaleString("en-US")}&#x20AA;</h4>
                        <p>חיסכון כללי</p>
                    </div>
                </div>
            </div>
            {tabFilled&&<ComparisonTab save_funcion={add_for_compare} compare_list={[compare_list, setCompareList]}/>}
            
        </div>
    )
}


